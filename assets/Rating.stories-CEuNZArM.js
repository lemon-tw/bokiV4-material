import{j as o}from"./jsx-runtime-BO8uF4Og.js";import{r as f,R as t}from"./index-D4H_InIO.js";import{I as T,r as F}from"./IconBase.esm-BbKRF193.js";var u=new Map;u.set("bold",function(e){return t.createElement(t.Fragment,null,t.createElement("path",{d:"M132.4,190.7l50.4,32c6.5,4.1,14.5-2,12.6-9.5l-14.6-57.4a8.7,8.7,0,0,1,2.9-8.8l45.2-37.7c5.9-4.9,2.9-14.8-4.8-15.3l-59-3.8a8.3,8.3,0,0,1-7.3-5.4l-22-55.4a8.3,8.3,0,0,0-15.6,0l-22,55.4a8.3,8.3,0,0,1-7.3,5.4L31.9,94c-7.7.5-10.7,10.4-4.8,15.3L72.3,147a8.7,8.7,0,0,1,2.9,8.8L61.7,209c-2.3,9,7.3,16.3,15,11.4l46.9-29.7A8.2,8.2,0,0,1,132.4,190.7Z",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"24"}))});u.set("duotone",function(e){return t.createElement(t.Fragment,null,t.createElement("path",{d:"M132.4,190.7l50.4,32c6.5,4.1,14.5-2,12.6-9.5l-14.6-57.4a8.7,8.7,0,0,1,2.9-8.8l45.2-37.7c5.9-4.9,2.9-14.8-4.8-15.3l-59-3.8a8.3,8.3,0,0,1-7.3-5.4l-22-55.4a8.3,8.3,0,0,0-15.6,0l-22,55.4a8.3,8.3,0,0,1-7.3,5.4L31.9,94c-7.7.5-10.7,10.4-4.8,15.3L72.3,147a8.7,8.7,0,0,1,2.9,8.8L61.7,209c-2.3,9,7.3,16.3,15,11.4l46.9-29.7A8.2,8.2,0,0,1,132.4,190.7Z",opacity:"0.2"}),t.createElement("path",{d:"M132.4,190.7l50.4,32c6.5,4.1,14.5-2,12.6-9.5l-14.6-57.4a8.7,8.7,0,0,1,2.9-8.8l45.2-37.7c5.9-4.9,2.9-14.8-4.8-15.3l-59-3.8a8.3,8.3,0,0,1-7.3-5.4l-22-55.4a8.3,8.3,0,0,0-15.6,0l-22,55.4a8.3,8.3,0,0,1-7.3,5.4L31.9,94c-7.7.5-10.7,10.4-4.8,15.3L72.3,147a8.7,8.7,0,0,1,2.9,8.8L61.7,209c-2.3,9,7.3,16.3,15,11.4l46.9-29.7A8.2,8.2,0,0,1,132.4,190.7Z",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}))});u.set("fill",function(){return t.createElement(t.Fragment,null,t.createElement("path",{d:"M239.2,97.4A16.4,16.4,0,0,0,224.6,86l-59.4-4.1-22-55.5A16.4,16.4,0,0,0,128,16h0a16.4,16.4,0,0,0-15.2,10.4L90.4,82.2,31.4,86A16.5,16.5,0,0,0,16.8,97.4,16.8,16.8,0,0,0,22,115.5l45.4,38.4L53.9,207a18.5,18.5,0,0,0,7,19.6,18,18,0,0,0,20.1.6l46.9-29.7h.2l50.5,31.9a16.1,16.1,0,0,0,8.7,2.6,16.5,16.5,0,0,0,15.8-20.8l-14.3-58.1L234,115.5A16.8,16.8,0,0,0,239.2,97.4Z"}))});u.set("light",function(e){return t.createElement(t.Fragment,null,t.createElement("path",{d:"M132.4,190.7l50.4,32c6.5,4.1,14.5-2,12.6-9.5l-14.6-57.4a8.7,8.7,0,0,1,2.9-8.8l45.2-37.7c5.9-4.9,2.9-14.8-4.8-15.3l-59-3.8a8.3,8.3,0,0,1-7.3-5.4l-22-55.4a8.3,8.3,0,0,0-15.6,0l-22,55.4a8.3,8.3,0,0,1-7.3,5.4L31.9,94c-7.7.5-10.7,10.4-4.8,15.3L72.3,147a8.7,8.7,0,0,1,2.9,8.8L61.7,209c-2.3,9,7.3,16.3,15,11.4l46.9-29.7A8.2,8.2,0,0,1,132.4,190.7Z",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"12"}))});u.set("thin",function(e){return t.createElement(t.Fragment,null,t.createElement("path",{d:"M132.4,190.7l50.4,32c6.5,4.1,14.5-2,12.6-9.5l-14.6-57.4a8.7,8.7,0,0,1,2.9-8.8l45.2-37.7c5.9-4.9,2.9-14.8-4.8-15.3l-59-3.8a8.3,8.3,0,0,1-7.3-5.4l-22-55.4a8.3,8.3,0,0,0-15.6,0l-22,55.4a8.3,8.3,0,0,1-7.3,5.4L31.9,94c-7.7.5-10.7,10.4-4.8,15.3L72.3,147a8.7,8.7,0,0,1,2.9,8.8L61.7,209c-2.3,9,7.3,16.3,15,11.4l46.9-29.7A8.2,8.2,0,0,1,132.4,190.7Z",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"8"}))});u.set("regular",function(e){return t.createElement(t.Fragment,null,t.createElement("path",{d:"M132.4,190.7l50.4,32c6.5,4.1,14.5-2,12.6-9.5l-14.6-57.4a8.7,8.7,0,0,1,2.9-8.8l45.2-37.7c5.9-4.9,2.9-14.8-4.8-15.3l-59-3.8a8.3,8.3,0,0,1-7.3-5.4l-22-55.4a8.3,8.3,0,0,0-15.6,0l-22,55.4a8.3,8.3,0,0,1-7.3,5.4L31.9,94c-7.7.5-10.7,10.4-4.8,15.3L72.3,147a8.7,8.7,0,0,1,2.9,8.8L61.7,209c-2.3,9,7.3,16.3,15,11.4l46.9-29.7A8.2,8.2,0,0,1,132.4,190.7Z",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}))});var z=function(l,a){return F(l,a,u)},y=f.forwardRef(function(e,l){return t.createElement(T,Object.assign({ref:l},e,{renderPath:z}))});y.displayName="Star";const q={small:20,medium:32,large:40},b=({value:e,max:l=5,precision:a=.1,size:g="medium",readOnly:c=!1,disabled:m=!1,showValueLabel:j=!0,onChange:k})=>{const[v,E]=f.useState(null),p=q[g]||32,w=f.useMemo(()=>Array.from({length:l}),[l]),R=d=>{const r=(v!==null?v:e)-d;return r>=1?1:r>0?Math.round(r/a)*a:0},S=(d,n)=>{if(c||m)return;const{left:r,width:s}=n.target.getBoundingClientRect(),L=(n.clientX-r)/s;let i=d+L;i=Math.round(i/a)*a,E(Math.max(a,Math.min(l,i)))},A=()=>{E(null)},C=(d,n)=>{if(c||m||!k)return;const{left:r,width:s}=n.target.getBoundingClientRect(),L=(n.clientX-r)/s;let i=d+L;i=Math.round(i/a)*a,k(Math.max(a,Math.min(l,i)))};return o.jsxs("span",{style:{display:"inline-flex",alignItems:"center",cursor:c||m?"default":"pointer"},onMouseLeave:A,children:[w.map((d,n)=>{const r=R(n);return o.jsxs("span",{style:{position:"relative",width:p,height:p,display:"inline-block"},onMouseMove:s=>S(n,s),onClick:s=>C(n,s),children:[o.jsx(y,{size:p,style:{position:"absolute",left:0,top:0,color:"#bbb"}}),o.jsx("span",{style:{width:`${r*100}%`,overflow:"hidden",position:"absolute",left:0,top:0,height:"100%",pointerEvents:"none",display:"inline-block"},children:o.jsx(y,{weight:"fill",size:p,style:{color:"#FFD700"}})})]},n)}),j&&o.jsx("span",{style:{marginLeft:8,fontSize:p*.7},children:(v??e).toFixed(1)})]})};b.__docgenInfo={description:"",methods:[],displayName:"Rating",props:{value:{required:!0,tsType:{name:"number"},description:"目前評分值（支援小數）"},max:{required:!1,tsType:{name:"number"},description:"最大分數（預設 5 顆星）",defaultValue:{value:"5",computed:!1}},precision:{required:!1,tsType:{name:"number"},description:"精度（如 0.1、0.5、1）",defaultValue:{value:"0.1",computed:!1}},size:{required:!1,tsType:{name:"union",raw:"'small' | 'medium' | 'large'",elements:[{name:"literal",value:"'small'"},{name:"literal",value:"'medium'"},{name:"literal",value:"'large'"}]},description:"尺寸，可選 small、medium、large",defaultValue:{value:'"medium"',computed:!1}},readOnly:{required:!1,tsType:{name:"boolean"},description:"是否只讀",defaultValue:{value:"false",computed:!1}},disabled:{required:!1,tsType:{name:"boolean"},description:"是否禁用",defaultValue:{value:"false",computed:!1}},onChange:{required:!1,tsType:{name:"signature",type:"function",raw:"(value: number) => void",signature:{arguments:[{type:{name:"number"},name:"value"}],return:{name:"void"}}},description:"分數變動時的 callback"},showValueLabel:{required:!1,tsType:{name:"boolean"},description:"是否顯示分數數字（可選）",defaultValue:{value:"true",computed:!1}},ariaLabel:{required:!1,tsType:{name:"string"},description:"aria-label（可選，無障礙）"}},composes:["Omit"]};const B={title:"components/Atoms/Rating/Rating",component:b,parameters:{layout:"centered"},tags:["autodocs"],argTypes:{value:{control:{type:"number",min:0,max:5,step:.1}},readOnly:{control:"boolean"},disabled:{control:"boolean"},size:{control:{type:"radio"},options:["small","medium","large"]},precision:{control:{type:"number",min:.1,max:1,step:.1}},showValueLabel:{control:"boolean"}},args:{value:2.5,size:"medium",readOnly:!1,disabled:!1,precision:.1,showValueLabel:!0,onChange:()=>{}}},W=e=>{const[l,a]=f.useState(e.value??2);f.useEffect(()=>{a(e.value??2)},[e.value]);const g=c=>{var m;a(c),(m=e.onChange)==null||m.call(e,c)};return o.jsx(b,{...e,value:l,onChange:g})},h={render:e=>o.jsx(W,{...e}),parameters:{docs:{source:{code:`
import { Rating } from '@lemon/material';
import React, { useState, useEffect } from 'react';

const [value, setValue] = useState(2.5);

useEffect(() => {
  setValue(args.value ?? 2.5);
}, [args.value]);

<Rating
  value={value}
  onChange={setValue}
  precision={0.1}
  size="medium"
  showValueLabel
/>
                `.trim()}}}};var M,V,x;h.parameters={...h.parameters,docs:{...(M=h.parameters)==null?void 0:M.docs,source:{originalSource:`{
  render: args => <InteractiveTemplate {...args} />,
  parameters: {
    docs: {
      source: {
        code: \`
import { Rating } from '@lemon/material';
import React, { useState, useEffect } from 'react';

const [value, setValue] = useState(2.5);

useEffect(() => {
  setValue(args.value ?? 2.5);
}, [args.value]);

<Rating
  value={value}
  onChange={setValue}
  precision={0.1}
  size="medium"
  showValueLabel
/>
                \`.trim()
      }
    }
  }
}`,...(x=(V=h.parameters)==null?void 0:V.docs)==null?void 0:x.source}}};const O=["CustomStar"];export{h as CustomStar,O as __namedExportsOrder,B as default};
