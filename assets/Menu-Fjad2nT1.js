import{r as n}from"./index-D4H_InIO.js";import{g as ee,b as te,s as U,c as oe,a as re,u as Se,r as Re}from"./memoTheme-C83d1A0S.js";import{u as Ce}from"./index-Bm8UbI65.js";import{u as V}from"./useSlot-BWf5NxIe.js";import{j as z}from"./jsx-runtime-BO8uF4Og.js";import{u as se}from"./DefaultPropsProvider-D4sChuSN.js";import{u as Ee}from"./useSlotProps-qwZrg_4U.js";import{P as ke}from"./Paper-B8zVEXaw.js";import{o as Q}from"./ownerDocument-DW-IO8s5.js";import{o as Z}from"./ownerWindow-HkKU3E4x.js";import{d as Le}from"./debounce-Be36O1Ab.js";import{G as Te}from"./Grow-zgzfA1CP.js";import{m as De}from"./mergeSlotProps-DQ9n5Pzv.js";import{g as Fe,M as Ie}from"./Modal-DVo_Vf6F.js";import{u as Oe}from"./useEnhancedEffect-BUbyLjya.js";function Ke(e){return typeof e=="string"}const ze=n.createContext({});function je(e){return ee("MuiList",e)}te("MuiList",["root","padding","dense","subheader"]);const He=e=>{const{classes:t,disablePadding:o,dense:b,subheader:y}=e;return re({root:["root",!o&&"padding",b&&"dense",y&&"subheader"]},je,t)},Ne=U("ul",{name:"MuiList",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:o}=e;return[t.root,!o.disablePadding&&t.padding,o.dense&&t.dense,o.subheader&&t.subheader]}})({listStyle:"none",margin:0,padding:0,position:"relative",variants:[{props:({ownerState:e})=>!e.disablePadding,style:{paddingTop:8,paddingBottom:8}},{props:({ownerState:e})=>e.subheader,style:{paddingTop:0}}]}),Ae=n.forwardRef(function(t,o){const b=se({props:t,name:"MuiList"}),{children:y,className:d,component:h="ul",dense:u=!1,disablePadding:m=!1,subheader:x,...S}=b,L=n.useMemo(()=>({dense:u}),[u]),T={...b,component:h,dense:u,disablePadding:m},i=He(T);return z.jsx(ze.Provider,{value:L,children:z.jsxs(Ne,{as:h,className:oe(i.root,d),ref:o,ownerState:T,...S,children:[x,y]})})});function J(e,t,o){return e===t?e.firstChild:t&&t.nextElementSibling?t.nextElementSibling:o?null:e.firstChild}function ue(e,t,o){return e===t?o?e.firstChild:e.lastChild:t&&t.previousElementSibling?t.previousElementSibling:o?null:e.lastChild}function he(e,t){if(t===void 0)return!0;let o=e.innerText;return o===void 0&&(o=e.textContent),o=o.trim().toLowerCase(),o.length===0?!1:t.repeating?o[0]===t.keys[0]:o.startsWith(t.keys.join(""))}function G(e,t,o,b,y,d){let h=!1,u=y(e,t,t?o:!1);for(;u;){if(u===e.firstChild){if(h)return!1;h=!0}const m=b?!1:u.disabled||u.getAttribute("aria-disabled")==="true";if(!u.hasAttribute("tabindex")||!he(u,d)||m)u=y(e,u,o);else return u.focus(),!0}return!1}const Ue=n.forwardRef(function(t,o){const{actions:b,autoFocus:y=!1,autoFocusItem:d=!1,children:h,className:u,disabledItemsFocusable:m=!1,disableListWrap:x=!1,onKeyDown:S,variant:L="selectedMenu",...T}=t,i=n.useRef(null),v=n.useRef({keys:[],repeating:!0,previousKeyMatched:!0,lastTime:null});Oe(()=>{y&&i.current.focus()},[y]),n.useImperativeHandle(b,()=>({adjustStyleForScrollbar:(r,{direction:l})=>{const p=!i.current.style.width;if(r.clientHeight<i.current.clientHeight&&p){const R=`${Fe(Z(r))}px`;i.current.style[l==="rtl"?"paddingLeft":"paddingRight"]=R,i.current.style.width=`calc(100% + ${R})`}return i.current}}),[]);const H=r=>{const l=i.current,p=r.key;if(r.ctrlKey||r.metaKey||r.altKey){S&&S(r);return}const D=Q(l).activeElement;if(p==="ArrowDown")r.preventDefault(),G(l,D,x,m,J);else if(p==="ArrowUp")r.preventDefault(),G(l,D,x,m,ue);else if(p==="Home")r.preventDefault(),G(l,null,x,m,J);else if(p==="End")r.preventDefault(),G(l,null,x,m,ue);else if(p.length===1){const c=v.current,k=p.toLowerCase(),j=performance.now();c.keys.length>0&&(j-c.lastTime>500?(c.keys=[],c.repeating=!0,c.previousKeyMatched=!0):c.repeating&&k!==c.keys[0]&&(c.repeating=!1)),c.lastTime=j,c.keys.push(k);const F=D&&!c.repeating&&he(D,c);c.previousKeyMatched&&(F||G(l,D,!1,m,J,c))?r.preventDefault():c.previousKeyMatched=!1}S&&S(r)},I=Se(i,o);let a=-1;n.Children.forEach(h,(r,l)=>{if(!n.isValidElement(r)){a===l&&(a+=1,a>=h.length&&(a=-1));return}r.props.disabled||(L==="selectedMenu"&&r.props.selected||a===-1)&&(a=l),a===l&&(r.props.disabled||r.props.muiSkipListHighlight||r.type.muiSkipListHighlight)&&(a+=1,a>=h.length&&(a=-1))});const M=n.Children.map(h,(r,l)=>{if(l===a){const p={};return d&&(p.autoFocus=!0),r.props.tabIndex===void 0&&L==="selectedMenu"&&(p.tabIndex=0),n.cloneElement(r,p)}return r});return z.jsx(Ae,{role:"menu",ref:I,className:u,onKeyDown:H,tabIndex:y?0:-1,...T,children:M})});function We(e){return ee("MuiPopover",e)}te("MuiPopover",["root","paper"]);function fe(e,t){let o=0;return typeof t=="number"?o=t:t==="center"?o=e.height/2:t==="bottom"&&(o=e.height),o}function de(e,t){let o=0;return typeof t=="number"?o=t:t==="center"?o=e.width/2:t==="right"&&(o=e.width),o}function me(e){return[e.horizontal,e.vertical].map(t=>typeof t=="number"?`${t}px`:t).join(" ")}function X(e){return typeof e=="function"?e():e}const $e=e=>{const{classes:t}=e;return re({root:["root"],paper:["paper"]},We,t)},Ge=U(Ie,{name:"MuiPopover",slot:"Root",overridesResolver:(e,t)=>t.root})({}),ge=U(ke,{name:"MuiPopover",slot:"Paper",overridesResolver:(e,t)=>t.paper})({position:"absolute",overflowY:"auto",overflowX:"hidden",minWidth:16,minHeight:16,maxWidth:"calc(100% - 32px)",maxHeight:"calc(100% - 32px)",outline:0}),Ve=n.forwardRef(function(t,o){const b=se({props:t,name:"MuiPopover"}),{action:y,anchorEl:d,anchorOrigin:h={vertical:"top",horizontal:"left"},anchorPosition:u,anchorReference:m="anchorEl",children:x,className:S,container:L,elevation:T=8,marginThreshold:i=16,open:v,PaperProps:H={},slots:I={},slotProps:a={},transformOrigin:M={vertical:"top",horizontal:"left"},TransitionComponent:r,transitionDuration:l="auto",TransitionProps:p={},disableScrollLock:R=!1,...D}=b,c=n.useRef(),k={...b,anchorOrigin:h,anchorReference:m,elevation:T,marginThreshold:i,transformOrigin:M,TransitionComponent:r,transitionDuration:l,TransitionProps:p},j=$e(k),F=n.useCallback(()=>{if(m==="anchorPosition")return u;const s=X(d),g=(s&&s.nodeType===1?s:Q(c.current).body).getBoundingClientRect();return{top:g.top+fe(g,h.vertical),left:g.left+de(g,h.horizontal)}},[d,h.horizontal,h.vertical,u,m]),O=n.useCallback(s=>({vertical:fe(s,M.vertical),horizontal:de(s,M.horizontal)}),[M.horizontal,M.vertical]),B=n.useCallback(s=>{const P={width:s.offsetWidth,height:s.offsetHeight},g=O(P);if(m==="none")return{top:null,left:null,transformOrigin:me(g)};const $=F();let N=$.top-g.vertical,A=$.left-g.horizontal;const ie=N+P.height,ae=A+P.width,le=Z(X(d)),pe=le.innerHeight-i,ce=le.innerWidth-i;if(i!==null&&N<i){const E=N-i;N-=E,g.vertical+=E}else if(i!==null&&ie>pe){const E=ie-pe;N-=E,g.vertical+=E}if(i!==null&&A<i){const E=A-i;A-=E,g.horizontal+=E}else if(ae>ce){const E=ae-ce;A-=E,g.horizontal+=E}return{top:`${Math.round(N)}px`,left:`${Math.round(A)}px`,transformOrigin:me(g)}},[d,m,F,O,i]),[Y,_]=n.useState(v),C=n.useCallback(()=>{const s=c.current;if(!s)return;const P=B(s);P.top!==null&&s.style.setProperty("top",P.top),P.left!==null&&(s.style.left=P.left),s.style.transformOrigin=P.transformOrigin,_(!0)},[B]);n.useEffect(()=>(R&&window.addEventListener("scroll",C),()=>window.removeEventListener("scroll",C)),[d,R,C]);const q=()=>{C()},K=()=>{_(!1)};n.useEffect(()=>{v&&C()}),n.useImperativeHandle(y,()=>v?{updatePosition:()=>{C()}}:null,[v,C]),n.useEffect(()=>{if(!v)return;const s=Le(()=>{C()}),P=Z(X(d));return P.addEventListener("resize",s),()=>{s.clear(),P.removeEventListener("resize",s)}},[d,v,C]);let f=l;const w={slots:{transition:r,...I},slotProps:{transition:p,paper:H,...a}},[W,Pe]=V("transition",{elementType:Te,externalForwardedProps:w,ownerState:k,getSlotProps:s=>({...s,onEntering:(P,g)=>{var $;($=s.onEntering)==null||$.call(s,P,g),q()},onExited:P=>{var g;(g=s.onExited)==null||g.call(s,P),K()}}),additionalProps:{appear:!0,in:v}});l==="auto"&&!W.muiSupportAuto&&(f=void 0);const ye=L||(d?Q(X(d)).body:void 0),[ne,{slots:be,slotProps:ve,...we}]=V("root",{ref:o,elementType:Ge,externalForwardedProps:{...w,...D},shouldForwardComponentProp:!0,additionalProps:{slots:{backdrop:I.backdrop},slotProps:{backdrop:De(typeof a.backdrop=="function"?a.backdrop(k):a.backdrop,{invisible:!0})},container:ye,open:v},ownerState:k,className:oe(j.root,S)}),[Me,xe]=V("paper",{ref:c,className:j.paper,elementType:ge,externalForwardedProps:w,shouldForwardComponentProp:!0,additionalProps:{elevation:T,style:Y?void 0:{opacity:0}},ownerState:k});return z.jsx(ne,{...we,...!Ke(ne)&&{slots:be,slotProps:ve,disableScrollLock:R},children:z.jsx(W,{...Pe,timeout:f,children:z.jsx(Me,{...xe,children:x})})})});function Be(e){return ee("MuiMenu",e)}te("MuiMenu",["root","paper","list"]);const _e={vertical:"top",horizontal:"right"},Xe={vertical:"top",horizontal:"left"},Ye=e=>{const{classes:t}=e;return re({root:["root"],paper:["paper"],list:["list"]},Be,t)},qe=U(Ve,{shouldForwardProp:e=>Re(e)||e==="classes",name:"MuiMenu",slot:"Root",overridesResolver:(e,t)=>t.root})({}),Je=U(ge,{name:"MuiMenu",slot:"Paper",overridesResolver:(e,t)=>t.paper})({maxHeight:"calc(100% - 96px)",WebkitOverflowScrolling:"touch"}),Qe=U(Ue,{name:"MuiMenu",slot:"List",overridesResolver:(e,t)=>t.list})({outline:0}),mt=n.forwardRef(function(t,o){const b=se({props:t,name:"MuiMenu"}),{autoFocus:y=!0,children:d,className:h,disableAutoFocusItem:u=!1,MenuListProps:m={},onClose:x,open:S,PaperProps:L={},PopoverClasses:T,transitionDuration:i="auto",TransitionProps:{onEntering:v,...H}={},variant:I="selectedMenu",slots:a={},slotProps:M={},...r}=b,l=Ce(),p={...b,autoFocus:y,disableAutoFocusItem:u,MenuListProps:m,onEntering:v,PaperProps:L,transitionDuration:i,TransitionProps:H,variant:I},R=Ye(p),D=y&&!u&&S,c=n.useRef(null),k=(f,w)=>{c.current&&c.current.adjustStyleForScrollbar(f,{direction:l?"rtl":"ltr"}),v&&v(f,w)},j=f=>{f.key==="Tab"&&(f.preventDefault(),x&&x(f,"tabKeyDown"))};let F=-1;n.Children.map(d,(f,w)=>{n.isValidElement(f)&&(f.props.disabled||(I==="selectedMenu"&&f.props.selected||F===-1)&&(F=w))});const O={slots:a,slotProps:{list:m,transition:H,paper:L,...M}},B=Ee({elementType:a.root,externalSlotProps:M.root,ownerState:p,className:[R.root,h]}),[Y,_]=V("paper",{className:R.paper,elementType:Je,externalForwardedProps:O,shouldForwardComponentProp:!0,ownerState:p}),[C,q]=V("list",{className:oe(R.list,m.className),elementType:Qe,shouldForwardComponentProp:!0,externalForwardedProps:O,getSlotProps:f=>({...f,onKeyDown:w=>{var W;j(w),(W=f.onKeyDown)==null||W.call(f,w)}}),ownerState:p}),K=typeof O.slotProps.transition=="function"?O.slotProps.transition(p):O.slotProps.transition;return z.jsx(qe,{onClose:x,anchorOrigin:{vertical:"bottom",horizontal:l?"right":"left"},transformOrigin:l?_e:Xe,slots:{root:a.root,paper:Y,backdrop:a.backdrop,...a.transition&&{transition:a.transition}},slotProps:{root:B,paper:_,backdrop:typeof M.backdrop=="function"?M.backdrop(p):M.backdrop,transition:{...K,onEntering:(...f)=>{var w;k(...f),(w=K==null?void 0:K.onEntering)==null||w.call(K,...f)}}},open:S,ref:o,transitionDuration:i,ownerState:p,...r,classes:T,children:z.jsx(C,{actions:c,autoFocus:y&&(F===-1||u),autoFocusItem:D,variant:I,...q,children:d})})});export{ze as L,mt as M,Ae as a,Ke as i};
