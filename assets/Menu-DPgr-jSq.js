import{r as c}from"./index-D4H_InIO.js";import{g as _,b as H,s as g,c as V,a as W,r as q}from"./memoTheme-DQLz_w2O.js";import{u as B}from"./index-Bm8UbI65.js";import{u as k}from"./useSlot-21BVXanB.js";import{j as I}from"./jsx-runtime-BO8uF4Og.js";import{u as J}from"./DefaultPropsProvider-CwqFt9v8.js";import{u as Q}from"./useSlotProps-BPmQKDpQ.js";import{P as X,a as Y}from"./Popover-yGUp7IJF.js";import{M as Z}from"./MenuList-CGrUldIO.js";function $(t){return _("MuiMenu",t)}H("MuiMenu",["root","paper","list"]);const oo={vertical:"top",horizontal:"right"},to={vertical:"top",horizontal:"left"},so=t=>{const{classes:r}=t;return W({root:["root"],paper:["paper"],list:["list"]},$,r)},ro=g(Y,{shouldForwardProp:t=>q(t)||t==="classes",name:"MuiMenu",slot:"Root",overridesResolver:(t,r)=>r.root})({}),eo=g(X,{name:"MuiMenu",slot:"Paper",overridesResolver:(t,r)=>r.paper})({maxHeight:"calc(100% - 96px)",WebkitOverflowScrolling:"touch"}),no=g(Z,{name:"MuiMenu",slot:"List",overridesResolver:(t,r)=>r.list})({outline:0}),Mo=c.forwardRef(function(r,S){const w=J({props:r,name:"MuiMenu"}),{autoFocus:u=!0,children:h,className:D,disableAutoFocusItem:m=!1,MenuListProps:f={},onClose:P,open:x,PaperProps:v={},PopoverClasses:E,transitionDuration:C="auto",TransitionProps:{onEntering:d,...F}={},variant:M="selectedMenu",slots:n={},slotProps:i={},...N}=w,y=B(),e={...w,autoFocus:u,disableAutoFocusItem:m,MenuListProps:f,onEntering:d,PaperProps:v,transitionDuration:C,TransitionProps:F,variant:M},R=so(e),j=u&&!m&&x,b=c.useRef(null),O=(o,s)=>{b.current&&b.current.adjustStyleForScrollbar(o,{direction:y?"rtl":"ltr"}),d&&d(o,s)},T=o=>{o.key==="Tab"&&(o.preventDefault(),P&&P(o,"tabKeyDown"))};let p=-1;c.Children.map(h,(o,s)=>{c.isValidElement(o)&&(o.props.disabled||(M==="selectedMenu"&&o.props.selected||p===-1)&&(p=s))});const l={slots:n,slotProps:{list:f,transition:F,paper:v,...i}},K=Q({elementType:n.root,externalSlotProps:i.root,ownerState:e,className:[R.root,D]}),[U,z]=k("paper",{className:R.paper,elementType:eo,externalForwardedProps:l,shouldForwardComponentProp:!0,ownerState:e}),[A,G]=k("list",{className:V(R.list,f.className),elementType:no,shouldForwardComponentProp:!0,externalForwardedProps:l,getSlotProps:o=>({...o,onKeyDown:s=>{var L;T(s),(L=o.onKeyDown)==null||L.call(o,s)}}),ownerState:e}),a=typeof l.slotProps.transition=="function"?l.slotProps.transition(e):l.slotProps.transition;return I.jsx(ro,{onClose:P,anchorOrigin:{vertical:"bottom",horizontal:y?"right":"left"},transformOrigin:y?oo:to,slots:{root:n.root,paper:U,backdrop:n.backdrop,...n.transition&&{transition:n.transition}},slotProps:{root:K,paper:z,backdrop:typeof i.backdrop=="function"?i.backdrop(e):i.backdrop,transition:{...a,onEntering:(...o)=>{var s;O(...o),(s=a==null?void 0:a.onEntering)==null||s.call(a,...o)}}},open:x,ref:S,transitionDuration:C,ownerState:e,...N,classes:E,children:I.jsx(A,{actions:b,autoFocus:u&&(p===-1||m),autoFocusItem:j,variant:M,...G,children:h})})});export{Mo as M};
