import{r as c}from"./index-D4H_InIO.js";import{g as A,b as z,s as j,c as W,a as $,u as X,r as Y}from"./memoTheme-C83d1A0S.js";import{u as Z}from"./index-Bm8UbI65.js";import{u as O}from"./useSlot-BWf5NxIe.js";import{j as F}from"./jsx-runtime-BO8uF4Og.js";import{u as G}from"./DefaultPropsProvider-D4sChuSN.js";import{u as ee}from"./useSlotProps-qwZrg_4U.js";import{L as te,a as se,P as oe}from"./Popover-B1DyT-gy.js";import{u as re}from"./useEnhancedEffect-BUbyLjya.js";import{g as ne}from"./Modal-DVo_Vf6F.js";import{o as ie}from"./ownerWindow-HkKU3E4x.js";import{o as ae}from"./ownerDocument-DW-IO8s5.js";function le(e){return A("MuiList",e)}z("MuiList",["root","padding","dense","subheader"]);const ue=e=>{const{classes:t,disablePadding:s,dense:h,subheader:p}=e;return $({root:["root",!s&&"padding",h&&"dense",p&&"subheader"]},le,t)},pe=j("ul",{name:"MuiList",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:s}=e;return[t.root,!s.disablePadding&&t.padding,s.dense&&t.dense,s.subheader&&t.subheader]}})({listStyle:"none",margin:0,padding:0,position:"relative",variants:[{props:({ownerState:e})=>!e.disablePadding,style:{paddingTop:8,paddingBottom:8}},{props:({ownerState:e})=>e.subheader,style:{paddingTop:0}}]}),ce=c.forwardRef(function(t,s){const h=G({props:t,name:"MuiList"}),{children:p,className:b,component:m="ul",dense:n=!1,disablePadding:f=!1,subheader:g,...M}=h,P=c.useMemo(()=>({dense:n}),[n]),x={...h,component:m,dense:n,disablePadding:f},d=ue(x);return F.jsx(te.Provider,{value:P,children:F.jsxs(pe,{as:m,className:W(d.root,b),ref:s,ownerState:x,...M,children:[g,p]})})});function N(e,t,s){return e===t?e.firstChild:t&&t.nextElementSibling?t.nextElementSibling:s?null:e.firstChild}function U(e,t,s){return e===t?s?e.firstChild:e.lastChild:t&&t.previousElementSibling?t.previousElementSibling:s?null:e.lastChild}function V(e,t){if(t===void 0)return!0;let s=e.innerText;return s===void 0&&(s=e.textContent),s=s.trim().toLowerCase(),s.length===0?!1:t.repeating?s[0]===t.keys[0]:s.startsWith(t.keys.join(""))}function E(e,t,s,h,p,b){let m=!1,n=p(e,t,t?s:!1);for(;n;){if(n===e.firstChild){if(m)return!1;m=!0}const f=h?!1:n.disabled||n.getAttribute("aria-disabled")==="true";if(!n.hasAttribute("tabindex")||!V(n,b)||f)n=p(e,n,s);else return n.focus(),!0}return!1}const fe=c.forwardRef(function(t,s){const{actions:h,autoFocus:p=!1,autoFocusItem:b=!1,children:m,className:n,disabledItemsFocusable:f=!1,disableListWrap:g=!1,onKeyDown:M,variant:P="selectedMenu",...x}=t,d=c.useRef(null),L=c.useRef({keys:[],repeating:!0,previousKeyMatched:!0,lastTime:null});re(()=>{p&&d.current.focus()},[p]),c.useImperativeHandle(h,()=>({adjustStyleForScrollbar:(o,{direction:a})=>{const r=!d.current.style.width;if(o.clientHeight<d.current.clientHeight&&r){const S=`${ne(ie(o))}px`;d.current.style[a==="rtl"?"paddingLeft":"paddingRight"]=S,d.current.style.width=`calc(100% + ${S})`}return d.current}}),[]);const I=o=>{const a=d.current,r=o.key;if(o.ctrlKey||o.metaKey||o.altKey){M&&M(o);return}const R=ae(a).activeElement;if(r==="ArrowDown")o.preventDefault(),E(a,R,g,f,N);else if(r==="ArrowUp")o.preventDefault(),E(a,R,g,f,U);else if(r==="Home")o.preventDefault(),E(a,null,g,f,N);else if(r==="End")o.preventDefault(),E(a,null,g,f,U);else if(r.length===1){const l=L.current,K=r.toLowerCase(),T=performance.now();l.keys.length>0&&(T-l.lastTime>500?(l.keys=[],l.repeating=!0,l.previousKeyMatched=!0):l.repeating&&K!==l.keys[0]&&(l.repeating=!1)),l.lastTime=T,l.keys.push(K);const v=R&&!l.repeating&&V(R,l);l.previousKeyMatched&&(v||E(a,R,!1,f,N,l))?o.preventDefault():l.previousKeyMatched=!1}M&&M(o)},k=X(d,s);let i=-1;c.Children.forEach(m,(o,a)=>{if(!c.isValidElement(o)){i===a&&(i+=1,i>=m.length&&(i=-1));return}o.props.disabled||(P==="selectedMenu"&&o.props.selected||i===-1)&&(i=a),i===a&&(o.props.disabled||o.props.muiSkipListHighlight||o.type.muiSkipListHighlight)&&(i+=1,i>=m.length&&(i=-1))});const w=c.Children.map(m,(o,a)=>{if(a===i){const r={};return b&&(r.autoFocus=!0),o.props.tabIndex===void 0&&P==="selectedMenu"&&(r.tabIndex=0),c.cloneElement(o,r)}return o});return F.jsx(ce,{role:"menu",ref:k,className:n,onKeyDown:I,tabIndex:p?0:-1,...x,children:w})});function de(e){return A("MuiMenu",e)}z("MuiMenu",["root","paper","list"]);const me={vertical:"top",horizontal:"right"},he={vertical:"top",horizontal:"left"},ge=e=>{const{classes:t}=e;return $({root:["root"],paper:["paper"],list:["list"]},de,t)},ye=j(oe,{shouldForwardProp:e=>Y(e)||e==="classes",name:"MuiMenu",slot:"Root",overridesResolver:(e,t)=>t.root})({}),be=j(se,{name:"MuiMenu",slot:"Paper",overridesResolver:(e,t)=>t.paper})({maxHeight:"calc(100% - 96px)",WebkitOverflowScrolling:"touch"}),Me=j(fe,{name:"MuiMenu",slot:"List",overridesResolver:(e,t)=>t.list})({outline:0}),Ie=c.forwardRef(function(t,s){const h=G({props:t,name:"MuiMenu"}),{autoFocus:p=!0,children:b,className:m,disableAutoFocusItem:n=!1,MenuListProps:f={},onClose:g,open:M,PaperProps:P={},PopoverClasses:x,transitionDuration:d="auto",TransitionProps:{onEntering:L,...I}={},variant:k="selectedMenu",slots:i={},slotProps:w={},...o}=h,a=Z(),r={...h,autoFocus:p,disableAutoFocusItem:n,MenuListProps:f,onEntering:L,PaperProps:P,transitionDuration:d,TransitionProps:I,variant:k},S=ge(r),R=p&&!n&&M,l=c.useRef(null),K=(u,y)=>{l.current&&l.current.adjustStyleForScrollbar(u,{direction:a?"rtl":"ltr"}),L&&L(u,y)},T=u=>{u.key==="Tab"&&(u.preventDefault(),g&&g(u,"tabKeyDown"))};let v=-1;c.Children.map(b,(u,y)=>{c.isValidElement(u)&&(u.props.disabled||(k==="selectedMenu"&&u.props.selected||v===-1)&&(v=y))});const D={slots:i,slotProps:{list:f,transition:I,paper:P,...w}},_=ee({elementType:i.root,externalSlotProps:w.root,ownerState:r,className:[S.root,m]}),[B,q]=O("paper",{className:S.paper,elementType:be,externalForwardedProps:D,shouldForwardComponentProp:!0,ownerState:r}),[J,Q]=O("list",{className:W(S.list,f.className),elementType:Me,shouldForwardComponentProp:!0,externalForwardedProps:D,getSlotProps:u=>({...u,onKeyDown:y=>{var H;T(y),(H=u.onKeyDown)==null||H.call(u,y)}}),ownerState:r}),C=typeof D.slotProps.transition=="function"?D.slotProps.transition(r):D.slotProps.transition;return F.jsx(ye,{onClose:g,anchorOrigin:{vertical:"bottom",horizontal:a?"right":"left"},transformOrigin:a?me:he,slots:{root:i.root,paper:B,backdrop:i.backdrop,...i.transition&&{transition:i.transition}},slotProps:{root:_,paper:q,backdrop:typeof w.backdrop=="function"?w.backdrop(r):w.backdrop,transition:{...C,onEntering:(...u)=>{var y;K(...u),(y=C==null?void 0:C.onEntering)==null||y.call(C,...u)}}},open:M,ref:s,transitionDuration:d,ownerState:r,...o,classes:x,children:F.jsx(J,{actions:l,autoFocus:p&&(v===-1||n),autoFocusItem:R,variant:k,...Q,children:b})})});export{ce as L,Ie as M};
